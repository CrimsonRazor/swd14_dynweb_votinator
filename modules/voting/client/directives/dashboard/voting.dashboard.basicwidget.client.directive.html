<div class="panel panel-primary">
  <div class="panel-heading">
    <h1 class="panel-title pull-left">
      <button class="btn btn-xs btn-info" data-ng-click="isCollapsed = !isCollapsed">
        <span class="glyphicon"
              data-ng-class="{'glyphicon-menu-down': isCollapsed, 'glyphicon-menu-up': !isCollapsed}"></span>
      </button>
      {{title}}
      <a data-ui-sref="voting.create" class="btn btn-xs btn-warning" data-ng-if="showCreateLink">
        <span class="glyphicon glyphicon-plus"></span>
      </a>
    </h1>
    <button class="btn btn-info btn-xs pull-right" data-ng-click="refresh()">
      <span class="glyphicon glyphicon-refresh"></span>
    </button>
    <div class="clearfix"></div>
  </div>

  <div class="panel-body" data-uib-collapse="isCollapsed">
    <div class="container-fluid" data-ng-if="votings.length">
      <div class="row">
        <div data-ng-class="{'col-md-12' : !chartDataShown, 'col-md-4': chartDataShown}">
          <div class="list-group">
            <button data-ng-repeat="voting in votings"
                    data-ng-bind="voting.title"
                    data-ng-click="selectVoting(voting)"
                    class="list-group-item"></button>
          </div>
        </div>
        <div class="col-md-8" data-ng-if="chartData">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-12">
                <div data-ui-chart="chartData" data-chart-options="chartOptions"></div>
              </div>
            </div>

            <div ng-if="!voting.hasVoted" class="row">
              <div ng-if="voting.answerType === 'single'">
                <div data-ng-repeat="answer in voting.answers"
                     class="col-md-4 col-xs-4">
                  <div data-ng-class="{'col-md-10': vote ,'col-md-12': !vote}">
                    <span data-ng-bind="answer.title"></span>
                  </div>
                  <div class="col-md-2" data-ng-if="vote">
                    <button class="btn btn-primary" data-ng-click="vote(answer)">Vote!</button>
                  </div>
                </div>
              </div>

              <div ng-if="voting.answerType === 'multiple'">
                <div data-ng-repeat="answer in voting.answers"
                     class="col-md-4 col-xs-4">
                  <span data-ng-bind="answer.title"></span>
                  <input type="checkbox" class="form-control"
                         ng-model="answers[answer._id]"
                         ng-disabled="!answers[answer._id] && Object.keys(answers).length < voting.maxAnswers ">
                </div>

                <button ng-if="voting.answerType === 'multiple'" class="btn btn-primary" data-ng-click="vote(answers)">Vote!</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <h4 data-ng-if="!votings.length">No votings found in this category!</h4>
  </div>
</div>
